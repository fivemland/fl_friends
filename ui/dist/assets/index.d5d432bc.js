import{S as U,i as Q,s as V,e as f,a as h,b as u,c as k,d as o,l as A,n as L,f as $,w as ne,g as Me,r as Ce,t as Se,h as j,j as re,u as Oe,k as C,m as q,o as ee,p as te,q as D,v as ve,x as Re,y as Te,z as J,A as z,B as K,C as fe,D as Ie,E as ye,F as qe,G as ke}from"./vendor.0d053c91.js";const He=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}};He();function je(r){let e,n,t,l,s,i;return{c(){e=f("div"),n=f("div"),n.textContent="Friends",t=h(),l=f("button"),l.innerHTML='<i class="fa-solid fa-xmark text-lg"></i>',u(n,"class","font-bold text-lg"),u(l,"class","btn btn-sm btn-circle"),u(e,"class","flex justify-between items-center")},m(a,c){k(a,e,c),o(e,n),o(e,t),o(e,l),s||(i=A(l,"click",Ee),s=!0)},p:L,i:L,o:L,d(a){a&&$(e),s=!1,i()}}}function Ee(){fetch(`https://${GetParentResourceName()}/close`)}class Fe extends U{constructor(e){super();Q(this,e,null,je,V,{})}}const $e=ne(!1),we=Ce([{name:"all",label:"All Friends",no_text:"No friends"},{name:"pendings",label:"Pending Friends",no_text:"No pending friend requests"}]),Z=ne("all"),xe=ne(Me(we).reduce((r,e)=>(r[e.name]=[],r),{}));window.addEventListener("message",({data:r})=>{if(r.visible!==void 0&&$e.set(r.visible),r.updatePlayers!==void 0){let e={all:[],pendings:[]};r.updatePlayers.forEach(n=>{n.pending===1?e.pendings=[...e.pendings,n]:e.all=[...e.all,n]}),xe.set(e)}});function Ae(r){let e;return{c(){e=f("div"),e.innerHTML='<div class="w-8 h-8 border-b-2 border-gray-400 rounded-full animate-spin"></div>',u(e,"class","flex items-center justify-center ")},m(n,t){k(n,e,t)},p:L,i:L,o:L,d(n){n&&$(e)}}}class Ge extends U{constructor(e){super();Q(this,e,null,Ae,V,{})}}function Be(r){let e,n,t;return{c(){e=f("button"),e.innerHTML='<i class="fa-solid fa-copy"></i>',u(e,"class","btn min-h-0 p-1.5 text-xs h-auto rounded-full")},m(l,s){k(l,e,s),n||(t=A(e,"click",r[2]),n=!0)},p:L,i:L,o:L,d(l){l&&$(e),n=!1,t()}}}function De(r,e,n){let{text:t}=e;async function l(i){const a=document.querySelector(".clipboard");a.value=i,await Se(),a.select(),a.setSelectionRange(0,9999),document.execCommand("copy"),a.value=""}const s=()=>l(t);return r.$$set=i=>{"text"in i&&n(0,t=i.text)},[t,l,s]}class de extends U{constructor(e){super();Q(this,e,De,Be,V,{text:0})}}function me(r){let e,n,t=r[0].charName+"",l,s,i,a,c,p,g,b,P,y,M,H,m,_,N;function R(v,d){return v[1]==="pendings"?ze:Je}let x=R(r),S=x(r),w={ctx:r,current:null,token:null,hasCatch:!0,pending:We,then:Ue,catch:Ke,value:6,error:7,blocks:[,,,]};return Te(r[2](),w),{c(){e=f("div"),n=f("div"),l=j(t),s=h(),i=f("div"),S.c(),a=h(),c=f("label"),c.innerHTML='<i class="fa-solid fa-trash-can"></i>',p=h(),g=f("input"),b=h(),P=f("div"),y=f("div"),M=f("label"),M.innerHTML='<i class="fa-solid fa-xmark text-lg"></i>',H=h(),m=f("h3"),m.textContent="Friend Informations",_=h(),w.block.c(),u(n,"class","w-50 text-left"),u(c,"for","removeModal"),u(c,"class","btn btn-error btn-sm btn-circle"),u(i,"class","w-50 text-right"),u(e,"class","grid grid-flow-col gap-1 px-2 text-center items-center bg-slate-800 border-b border-gray-900 rounded-md p-2"),u(g,"type","checkbox"),u(g,"id","playerInfoModal"),u(g,"class","modal-toggle"),u(M,"for","playerInfoModal"),u(M,"class","btn btn-sm btn-circle absolute right-2 top-2"),u(m,"class","text-lg font-bold"),u(y,"class","modal-box relative"),u(P,"class","modal")},m(v,d){k(v,e,d),o(e,n),o(n,l),o(e,s),o(e,i),S.m(i,null),o(i,a),o(i,c),k(v,p,d),k(v,g,d),k(v,b,d),k(v,P,d),o(P,y),o(y,M),o(y,H),o(y,m),o(y,_),w.block.m(y,w.anchor=null),w.mount=()=>y,w.anchor=null,N=!0},p(v,d){r=v,(!N||d&1)&&t!==(t=r[0].charName+"")&&re(l,t),x===(x=R(r))&&S?S.p(r,d):(S.d(1),S=x(r),S&&(S.c(),S.m(i,a))),Oe(w,r,d)},i(v){N||(C(w.block),N=!0)},o(v){for(let d=0;d<3;d+=1){const T=w.blocks[d];q(T)}N=!1},d(v){v&&$(e),S.d(),v&&$(p),v&&$(g),v&&$(b),v&&$(P),w.block.d(),w.token=null,w=null}}}function Je(r){let e;return{c(){e=f("label"),e.innerHTML='<i class="fa-solid fa-info"></i>',u(e,"for","playerInfoModal"),u(e,"class","btn btn-info btn-sm btn-circle")},m(n,t){k(n,e,t)},p:L,d(n){n&&$(e)}}}function ze(r){let e,n,t;return{c(){e=f("button"),e.innerHTML='<i class="fa-solid fa-check"></i>',u(e,"class","btn btn-success btn-sm btn-circle")},m(l,s){k(l,e,s),n||(t=A(e,"click",r[4]),n=!0)},p:L,d(l){l&&$(e),n=!1,t()}}}function Ke(r){let e,n,t,l=r[7].message+"",s;return{c(){e=f("div"),n=f("div"),n.textContent="ERROR",t=h(),s=j(l),u(n,"class","text-xl"),u(e,"class","text-error text-center")},m(i,a){k(i,e,a),o(e,n),o(e,t),o(e,s)},p:L,i:L,o:L,d(i){i&&$(e)}}}function Ue(r){let e,n,t,l,s,i,a,c=r[6].charName+"",p,g,b,P,y,M,H,m,_,N,R,x=ve(r[6].add_date).fromNow()+"",S,w,v,d,T,I,O,F,Ne=r[6].discordName+"",ie,se,B,W,oe,G,ae,X,Pe=r[6].phone_number+"",ce,Y;function Le(E,ue){return E[6].online?Ve:Qe}let le=Le(r)(r);return I=new de({props:{text:r[6].discordName}}),G=new de({props:{text:r[6].phone_number}}),{c(){e=f("div"),n=f("table"),t=f("tbody"),l=f("tr"),s=f("td"),s.textContent="Character Name",i=h(),a=f("td"),p=j(c),g=h(),b=f("tr"),P=f("td"),P.textContent="Status",y=h(),M=f("td"),le.c(),H=h(),m=f("tr"),_=f("td"),_.textContent="Friendship beginning date",N=h(),R=f("td"),S=j(x),w=h(),v=f("tr"),d=f("td"),T=j(`Discord Name\r
                  `),J(I.$$.fragment),O=h(),F=f("td"),ie=j(Ne),se=h(),B=f("tr"),W=f("td"),oe=j(`Phone Number\r
                  `),J(G.$$.fragment),ae=h(),X=f("td"),ce=j(Pe),u(a,"class","text-right"),u(M,"class",`text-right ${r[6].online?"text-success":"text-error"}`),u(R,"class","text-right"),u(F,"class","text-right"),u(X,"class","text-right"),u(n,"class","table table-compact w-full"),u(e,"class","overflow-x-auto mt-3 bg-base-200 p-3 rounded-md")},m(E,ue){k(E,e,ue),o(e,n),o(n,t),o(t,l),o(l,s),o(l,i),o(l,a),o(a,p),o(t,g),o(t,b),o(b,P),o(b,y),o(b,M),le.m(M,null),o(t,H),o(t,m),o(m,_),o(m,N),o(m,R),o(R,S),o(t,w),o(t,v),o(v,d),o(d,T),z(I,d,null),o(v,O),o(v,F),o(F,ie),o(t,se),o(t,B),o(B,W),o(W,oe),z(G,W,null),o(B,ae),o(B,X),o(X,ce),Y=!0},p:L,i(E){Y||(C(I.$$.fragment,E),C(G.$$.fragment,E),Y=!0)},o(E){q(I.$$.fragment,E),q(G.$$.fragment,E),Y=!1},d(E){E&&$(e),le.d(),K(I),K(G)}}}function Qe(r){let e,n;return{c(){e=f("i"),n=j(`\r
                    Offline`),u(e,"class","fa-solid fa-circle-dot")},m(t,l){k(t,e,l),k(t,n,l)},d(t){t&&$(e),t&&$(n)}}}function Ve(r){let e,n;return{c(){e=f("i"),n=j(`\r
                    Online`),u(e,"class","fa-solid fa-circle")},m(t,l){k(t,e,l),k(t,n,l)},d(t){t&&$(e),t&&$(n)}}}function We(r){let e,n;return e=new Ge({}),{c(){J(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p:L,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function Xe(r){let e,n,t,l,s,i,a,c,p,g,b,P,y,M,H,m=typeof r[0]=="object"&&me(r);return{c(){m&&m.c(),e=h(),n=f("input"),t=h(),l=f("div"),s=f("div"),i=f("label"),i.innerHTML='<i class="fa-solid fa-xmark text-lg"></i>',a=h(),c=f("h3"),c.textContent="Friend Remove",p=h(),g=f("div"),g.textContent="Are you sure you want to delete this friend?",b=h(),P=f("label"),P.innerHTML='<i class="fa-solid fa-trash-can mr-1"></i> Remove',u(n,"type","checkbox"),u(n,"id","removeModal"),u(n,"class","modal-toggle"),u(i,"for","removeModal"),u(i,"class","btn btn-sm btn-circle absolute right-2 top-2"),u(c,"class","text-lg font-bold"),u(g,"class","text-md"),u(P,"for","removeModal"),u(P,"class","btn btn-sm btn-error float-right"),u(s,"class","modal-box relative"),u(l,"class","modal")},m(_,N){m&&m.m(_,N),k(_,e,N),k(_,n,N),k(_,t,N),k(_,l,N),o(l,s),o(s,i),o(s,a),o(s,c),o(s,p),o(s,g),o(s,b),o(s,P),y=!0,M||(H=A(P,"click",r[5]),M=!0)},p(_,[N]){typeof _[0]=="object"?m?(m.p(_,N),N&1&&C(m,1)):(m=me(_),m.c(),C(m,1),m.m(e.parentNode,e)):m&&(ee(),q(m,1,1,()=>{m=null}),te())},i(_){y||(C(m),y=!0)},o(_){q(m),y=!1},d(_){m&&m.d(_),_&&$(e),_&&$(n),_&&$(t),_&&$(l),M=!1,H()}}}function Ye(r,e,n){let t;D(r,Z,p=>n(1,t=p)),ve.extend(Re);let{player:l}=e;async function s(){const p=await fetch(`https://${GetParentResourceName()}/requestPlayerInfo`,{method:"POST",body:JSON.stringify({identifier:l.friend})}),{error:g,result:b}=await p.json();if(g)throw new Error(g);return b}function i(p="delete"){fetch(`https://${GetParentResourceName()}/friendInteraction`,{method:"POST",body:JSON.stringify({method:p,player:l})})}const a=()=>i("accept"),c=()=>i("delete");return r.$$set=p=>{"player"in p&&n(0,l=p.player)},[l,t,s,i,a,c]}class Ze extends U{constructor(e){super();Q(this,e,Ye,Xe,V,{player:0})}}function be(r,e,n){const t=r.slice();return t[8]=e[n],t}function pe(r,e,n){const t=r.slice();return t[11]=e[n],t}function _e(r){let e,n,t,l,s,i,a,c,p,g,b,P,y,M,H,m,_,N;n=new Fe({});let R=r[2],x=[];for(let d=0;d<R.length;d+=1)x[d]=he(pe(r,R,d));const S=[tt,et],w=[];function v(d,T){return!d[4][d[3]]||d[4][d[3]].length<=0?0:1}return a=v(r),c=w[a]=S[a](r),{c(){e=f("main"),J(n.$$.fragment),t=h(),l=f("div");for(let d=0;d<x.length;d+=1)x[d].c();s=h(),i=f("div"),c.c(),p=h(),g=f("div"),b=f("input"),P=h(),y=f("button"),M=j("Send Request"),u(l,"class","mt-2 w-full flex justify-center"),u(i,"class","mt-2 max-h-72 overflow-y-auto"),u(b,"type","text"),u(b,"placeholder","ID"),u(b,"class","input input-sm input-bordered input-accent mr-1"),y.disabled=H=r[0].length<=0,u(y,"class","btn btn-sm btn-accent ml-1"),u(g,"class","mt-5 flex justify-center"),u(e,"class","w-1/3 rounded-xl p-2 bg-slate-700")},m(d,T){k(d,e,T),z(n,e,null),o(e,t),o(e,l);for(let I=0;I<x.length;I+=1)x[I].m(l,null);o(e,s),o(e,i),w[a].m(i,null),o(e,p),o(e,g),o(g,b),fe(b,r[0]),o(g,P),o(g,y),o(y,M),m=!0,_||(N=[A(b,"input",r[7]),A(y,"click",r[5])],_=!0)},p(d,T){if(T&12){R=d[2];let O;for(O=0;O<R.length;O+=1){const F=pe(d,R,O);x[O]?x[O].p(F,T):(x[O]=he(F),x[O].c(),x[O].m(l,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=R.length}let I=a;a=v(d),a===I?w[a].p(d,T):(ee(),q(w[I],1,1,()=>{w[I]=null}),te(),c=w[a],c?c.p(d,T):(c=w[a]=S[a](d),c.c()),C(c,1),c.m(i,null)),T&1&&b.value!==d[0]&&fe(b,d[0]),(!m||T&1&&H!==(H=d[0].length<=0))&&(y.disabled=H)},i(d){m||(C(n.$$.fragment,d),C(c),m=!0)},o(d){q(n.$$.fragment,d),q(c),m=!1},d(d){d&&$(e),K(n),ye(x,d),w[a].d(),_=!1,qe(N)}}}function he(r){let e,n=r[11].label+"",t,l,s,i,a;return{c(){e=f("button"),t=j(n),l=h(),u(e,"class",s=`btn btn-sm w-1/2 mx-1 ${r[3]===r[11].name?"btn-info":""}`)},m(c,p){k(c,e,p),o(e,t),o(e,l),i||(a=A(e,"click",function(){Ie(Z.set(r[11].name))&&Z.set(r[11].name).apply(this,arguments)}),i=!0)},p(c,p){r=c,p&4&&n!==(n=r[11].label+"")&&re(t,n),p&12&&s!==(s=`btn btn-sm w-1/2 mx-1 ${r[3]===r[11].name?"btn-info":""}`)&&u(e,"class",s)},d(c){c&&$(e),i=!1,a()}}}function et(r){let e,n,t=r[4][r[3]],l=[];for(let i=0;i<t.length;i+=1)l[i]=ge(be(r,t,i));const s=i=>q(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,a){for(let c=0;c<l.length;c+=1)l[c].m(i,a);k(i,e,a),n=!0},p(i,a){if(a&24){t=i[4][i[3]];let c;for(c=0;c<t.length;c+=1){const p=be(i,t,c);l[c]?(l[c].p(p,a),C(l[c],1)):(l[c]=ge(p),l[c].c(),C(l[c],1),l[c].m(e.parentNode,e))}for(ee(),c=t.length;c<l.length;c+=1)s(c);te()}},i(i){if(!n){for(let a=0;a<t.length;a+=1)C(l[a]);n=!0}},o(i){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)q(l[a]);n=!1},d(i){ye(l,i),i&&$(e)}}}function tt(r){let e,n=r[2].find(r[6]).no_text+"",t;return{c(){e=f("div"),t=j(n),u(e,"class","text-center text-warning text-lg italic mt-5")},m(l,s){k(l,e,s),o(e,t)},p(l,s){s&12&&n!==(n=l[2].find(l[6]).no_text+"")&&re(t,n)},i:L,o:L,d(l){l&&$(e)}}}function ge(r){let e,n;return e=new Ze({props:{player:r[8]}}),{c(){J(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p(t,l){const s={};l&24&&(s.player=t[8]),e.$set(s)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function lt(r){let e,n,t=r[1]&&_e(r);return{c(){t&&t.c(),e=ke()},m(l,s){t&&t.m(l,s),k(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&C(t,1)):(t=_e(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(ee(),q(t,1,1,()=>{t=null}),te())},i(l){n||(C(t),n=!0)},o(l){q(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function nt(r,e,n){let t,l,s,i;D(r,$e,b=>n(1,t=b)),D(r,we,b=>n(2,l=b)),D(r,Z,b=>n(3,s=b)),D(r,xe,b=>n(4,i=b));let a="";function c(){fetch(`https://${GetParentResourceName()}/sendRequest`,{method:"POST",body:JSON.stringify({requestID:a})}),n(0,a="")}const p=b=>b.name===s;function g(){a=this.value,n(0,a)}return[a,t,l,s,i,c,p,g]}class rt extends U{constructor(e){super();Q(this,e,nt,lt,V,{})}}new rt({target:document.getElementById("app")});
